<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [<!ENTITY buildfile SYSTEM "file:./build-user.xml">]>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->
<project basedir="." default="build" name="MarcPrinter">
    <path id="project.classpath">
        <pathelement location="bin"/>
        <pathelement location="lib/marc4j.jar"/>
        <pathelement location="lib/normalizer.jar"/>
        <pathelement location="lib/commons-logging.jar"/>
        <pathelement location="lib/commons-logging-api.jar"/>
        <pathelement location="lib/log4j-1.2.5.jar"/>
        <pathelement location="lib/ki-jzkit-hss-1_2_3.jar"/>
        <pathelement location="lib/ki-jzkit-iface-1_2_3.jar"/>
        <pathelement location="lib/ki-jzkit-z3950-1_2_3.jar"/>
        <pathelement location="lib/ki-util.jar"/>
        <pathelement location="lib/a2jruntime-1_2_3.jar"/>
        <pathelement location="lib/apache-solr-nightly.jar"/>
        <pathelement location="lib/apache-solr-common-nightly.jar"/>
        <pathelement location="lib/commons-codec-1.3.jar"/>
        <pathelement location="lib/commons-csv-0.1-SNAPSHOT.jar"/>
        <pathelement location="lib/commons-fileupload-1.2.jar"/>
        <pathelement location="lib/commons-io-1.2.jar"/>
        <pathelement location="lib/easymock.jar"/>
    	<pathelement location="lib/lucene-analyzers-2.3.1.jar"/>
    	<pathelement location="lib/lucene-core-2.3.1.jar"/>
    	<pathelement location="lib/lucene-highlighter-2.3.1.jar"/>
    	<pathelement location="lib/lucene-snowball-2.3.1.jar"/>
    	<pathelement location="lib/lucene-spellchecker-2.3.1.jar"/>
    	<pathelement location="lib/stax-1.2.0-dev.jar"/>
    	<pathelement location="lib/stax-api-1.0.jar"/>
    	<pathelement location="lib/stax-utils.jar"/>    					
        <pathelement location="lib/servlet-api-2.4.jar"/>
        <pathelement location="lib/xpp3-1.1.3.4.O.jar"/>        
    </path>
    <target name="init">
        <mkdir dir="bin"/>
        <mkdir dir="dist"/>
    </target>
    <target name="clean">
        <delete dir="bin"/>
        <delete dir="dist"/>
    </target>
    <target depends="init" name="build">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac destdir="bin" debug="true">
            <src path="src"/>
            <classpath refid="project.classpath"/>
        </javac>
    	<copy todir="dist/lib">
    	     <fileset dir="lib" includes="*.jar"/>
    	</copy>

    	<jar destfile="dist/MarcImporter.jar">
    			<fileset dir="bin" 
    					 includes="**/*.class"/>
    			<fileset dir="."
    					 includes="*.properties"/>		
    			<manifest>
    				<attribute name="Main-Class" value="org.solrmarc.marc.MarcImporter"/>
    				<attribute name="Class-Path" 
value="lib/a2jruntime-1_2_3.jar
 lib/apache-solr-nightly.jar
 lib/apache-solr-common-nightly.jar
 lib/commons-codec-1.3.jar
 lib/commons-csv-0.1-SNAPSHOT.jar
 lib/commons-fileupload-1.2.jar
 lib/commons-io-1.2.jar
 lib/commons-logging-api.jar
 lib/commons-logging.jar
 lib/easymock.jar
 lib/ki-jzkit-hss-1_2_3.jar
 lib/ki-jzkit-iface-1_2_3.jar
 lib/ki-jzkit-z3950-1_2_3.jar
 lib/ki-util.jar
 lib/log4j-1.2.5.jar
 lib/lucene-analyzers-2.3.1.jar
 lib/lucene-core-2.3.1.jar
 lib/lucene-highlighter-2.3.1.jar
 lib/lucene-snowball-2.3.1.jar
 lib/lucene-spellchecker-2.3.1.jar
 lib/marc4j.jar
 lib/normalizer.jar
 lib/servlet-api-2.4.jar
 lib/stax-1.2.0-dev.jar
 lib/stax-api-1.0.jar
 lib/stax-utils.jar    					
 lib/xpp3-1.1.3.4.O.jar"/>
    			</manifest>
    		</jar>
		
			<jar destfile="zclient.jar">
					<fileset dir="bin" includes="ZClient.class,MarcTranslatedReader.class"/>
			</jar>
		
    </target>
	
    <target name="MarcPrinter">
        <java classname="MarcPrinter" failonerror="true" fork="yes">
            <classpath refid="project.classpath"/>
        </java>
    </target>
    <target name="Z3950Client">
        <java classname="MarcImporter" failonerror="true" fork="yes">
            <classpath refid="project.classpath"/>
        </java>
    </target>
	<chmod dir="." perm="u+x" includes="*.sh" />
</project>
